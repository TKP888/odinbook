/* Dashboard Mobile CSS - Aggressive overrides for mobile layout */

@media (max-width: 767px) {
  /* Force single column layout with maximum specificity */
  body.dashboard-page .container-fluid,
  body.dashboard-page .container-fluid * {
    max-width: 100% !important;
    width: 100% !important;
    overflow-x: hidden !important;
    box-sizing: border-box !important;
  }

  /* Override Bootstrap grid system completely */
  body.dashboard-page .row {
    display: flex !important;
    flex-direction: column !important;
    margin: 0 !important;
    max-width: 100% !important;
    width: 100% !important;
  }

  body.dashboard-page .col-12,
  body.dashboard-page .col-md-6,
  body.dashboard-page .col-lg-4,
  body.dashboard-page .col-lg-6,
  body.dashboard-page .col-xl-4,
  body.dashboard-page .col-xl-6 {
    flex: 0 0 100% !important;
    width: 100% !important;
    max-width: 100% !important;
    padding: 0 0.5rem !important;
    margin: 0 !important;
  }

  /* Force welcome section to full width */
  body.dashboard-page .welcome-section-component {
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 0 1rem 0 !important;
    padding: 0 !important;
  }

  body.dashboard-page .welcome-section-component .card {
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 !important;
    border-radius: 12px !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
    border: 1px solid #e9ecef !important;
  }

  body.dashboard-page .welcome-section-component .card-header {
    text-align: center !important;
    padding: 1rem !important;
    border-bottom: 1px solid #e9ecef !important;
    background-color: #f8f9fa !important;
  }

  body.dashboard-page .welcome-section-component .card-header h4 {
    font-size: 1.3rem !important;
    margin: 0 !important;
    color: #311555 !important;
    font-weight: 600 !important;
  }

  body.dashboard-page .welcome-section-component .card-body {
    padding: 1rem !important;
  }

  /* CRITICAL: Override post-create component layout */
  body.dashboard-page .post-create-component {
    width: 100% !important;
    max-width: 100% !important;
  }

  /* Force vertical layout for the main flex container */
  body.dashboard-page .post-create-component > .d-flex {
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    gap: 1rem !important;
    width: 100% !important;
  }

  /* Avatar positioning - center above form */
  body.dashboard-page .post-create-component .me-3 {
    margin-right: 0 !important;
    margin-bottom: 0.5rem !important;
    align-self: center !important;
    order: 1 !important;
  }

  body.dashboard-page .post-create-component .flex-shrink-0 {
    flex-shrink: 1 !important;
    align-self: center !important;
    order: 1 !important;
  }

  /* Form container - full width */
  body.dashboard-page .post-create-component .flex-grow-1 {
    flex-grow: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
    order: 2 !important;
  }

  /* Textarea - full width */
  body.dashboard-page .post-create-component textarea {
    width: 100% !important;
    min-height: 80px !important;
    border-radius: 8px !important;
    border: 1px solid #ced4da !important;
    padding: 0.75rem !important;
    font-size: 1rem !important;
    resize: vertical !important;
    box-sizing: border-box !important;
  }

  body.dashboard-page .post-create-component textarea:focus {
    border-color: #311555 !important;
    box-shadow: 0 0 0 0.2rem rgba(49, 21, 85, 0.25) !important;
  }

  /* Photo upload section - vertical layout */
  body.dashboard-page
    .post-create-component
    .d-flex.align-items-center.justify-content-between {
    display: flex !important;
    flex-direction: column !important;
    align-items: stretch !important;
    gap: 1rem !important;
    margin-top: 1rem !important;
    width: 100% !important;
  }

  body.dashboard-page
    .post-create-component
    .d-flex.align-items-center.justify-content-end {
    display: flex !important;
    flex-direction: column !important;
    align-items: stretch !important;
    gap: 1rem !important;
    width: 100% !important;
  }

  /* Buttons - full width */
  body.dashboard-page .post-create-component .btn {
    width: 100% !important;
    margin: 0 !important;
    min-height: 44px !important;
    border-radius: 8px !important;
    font-size: 0.9rem !important;
    font-weight: 500 !important;
    box-sizing: border-box !important;
  }

  body.dashboard-page .post-create-component .btn-outline-secondary {
    border-color: #6c757d !important;
    color: #6c757d !important;
  }

  body.dashboard-page .post-create-component .btn-outline-secondary:hover {
    background-color: #6c757d !important;
    color: white !important;
  }

  body.dashboard-page .post-create-component .btn-primary {
    background-color: #311555 !important;
    border-color: #311555 !important;
    color: white !important;
  }

  body.dashboard-page .post-create-component .btn-primary:hover {
    background-color: #4a1f7a !important;
    border-color: #4a1f7a !important;
  }

  /* Character count - centered */
  body.dashboard-page .post-create-component .text-muted {
    text-align: center !important;
    font-size: 0.85rem !important;
    color: #6c757d !important;
    margin: 0 !important;
  }

  /* Photo file name - centered */
  body.dashboard-page .post-create-component #photoFileName {
    text-align: center !important;
    width: 100% !important;
    margin: 0.5rem 0 !important;
    font-size: 0.8rem !important;
  }

  /* Recent Posts section */
  body.dashboard-page .card {
    width: 100% !important;
    max-width: 100% !important;
    border-radius: 12px !important;
    margin-bottom: 1rem !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
    border: 1px solid #e9ecef !important;
  }

  body.dashboard-page .card-header {
    padding: 1rem !important;
    border-radius: 12px 12px 0 0 !important;
    font-size: 1.1rem !important;
    background-color: #f8f9fa !important;
    border-bottom: 1px solid #e9ecef !important;
  }

  body.dashboard-page .card-header h5 {
    font-size: 1.2rem !important;
    font-weight: 600 !important;
    color: #311555 !important;
    margin: 0 !important;
  }

  body.dashboard-page .card-header .btn {
    min-height: 44px !important;
    border-radius: 8px !important;
    font-size: 0.85rem !important;
    padding: 0.5rem 1rem !important;
  }

  body.dashboard-page .card-body {
    padding: 1rem !important;
  }

  /* Post cards */
  body.dashboard-page .post-card {
    width: 100% !important;
    max-width: 100% !important;
    border-radius: 8px !important;
    border: 1px solid #e9ecef !important;
    overflow: hidden !important;
    margin-bottom: 1rem !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
  }

  body.dashboard-page .post-card .post-header {
    border-bottom: 1px solid #f1f3f4 !important;
    padding: 1rem !important;
  }

  body.dashboard-page .post-card .post-content {
    padding: 1rem !important;
  }

  body.dashboard-page .post-card .post-actions {
    border-top: 1px solid #f1f3f4 !important;
    padding: 0.75rem 1rem !important;
  }

  body.dashboard-page .post-card .post-action {
    border-radius: 6px !important;
    min-height: 40px !important;
    font-size: 0.85rem !important;
  }

  /* Loading states */
  body.dashboard-page #postsLoading {
    padding: 2rem 1rem !important;
    text-align: center !important;
  }

  body.dashboard-page #postsLoading .spinner-border {
    width: 2rem !important;
    height: 2rem !important;
  }

  body.dashboard-page #postsLoading p {
    margin-top: 1rem !important;
    color: #6c757d !important;
    font-size: 1rem !important;
  }

  /* No posts message */
  body.dashboard-page #noPosts {
    padding: 2rem 1rem !important;
    text-align: center !important;
  }

  body.dashboard-page #noPosts h5 {
    font-size: 1.3rem !important;
    color: #6c757d !important;
    margin-bottom: 1rem !important;
  }

  body.dashboard-page #noPosts p {
    color: #6c757d !important;
    font-size: 1rem !important;
    line-height: 1.5 !important;
    margin-bottom: 1.5rem !important;
  }

  body.dashboard-page #noPosts .btn {
    margin: 0.5rem !important;
    min-height: 44px !important;
    border-radius: 8px !important;
    font-size: 0.9rem !important;
  }

  /* Load more button */
  body.dashboard-page #loadMoreBtn {
    min-height: 44px !important;
    border-radius: 8px !important;
    font-size: 0.9rem !important;
    padding: 0.75rem 1.5rem !important;
    background-color: #311555 !important;
    border-color: #311555 !important;
    color: white !important;
  }

  body.dashboard-page #loadMoreBtn:hover {
    background-color: #4a1f7a !important;
    border-color: #4a1f7a !important;
  }

  /* Ensure no horizontal scroll anywhere */
  body.dashboard-page,
  body.dashboard-page * {
    max-width: 100vw !important;
    overflow-x: hidden !important;
    box-sizing: border-box !important;
  }

  /* Override any Bootstrap grid classes that might be applied */
  body.dashboard-page [class*="col-"] {
    flex: 0 0 100% !important;
    width: 100% !important;
    max-width: 100% !important;
  }

  /* Force all flex containers to column direction */
  body.dashboard-page .d-flex {
    flex-direction: column !important;
  }

  body.dashboard-page .d-flex.row {
    flex-direction: row !important;
  }

  /* Override any potential CSS Grid layouts */
  body.dashboard-page [style*="grid"] {
    display: flex !important;
    flex-direction: column !important;
  }

  /* Ensure proper spacing */
  body.dashboard-page .mb-4 {
    margin-bottom: 1rem !important;
  }

  body.dashboard-page .mt-3 {
    margin-top: 1rem !important;
  }
}
