/* ========================================
   UNIFIED SEARCH COMPONENT STYLESHEET
   ======================================== */

/* ========================================
   CSS VARIABLES
   ======================================== */
:root {
  /* Search-specific colors */
  --search-bg: #ffffff;
  --search-border: #e9ecef;
  --search-border-focus: #667eea;
  --search-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
  --search-shadow-focus: 0 0 0 3px rgba(102, 126, 234, 0.1);

  /* Search-specific spacing */
  --search-height: 48px;
  --search-padding: 12px 16px;
  --search-font-size: 16px;
  --search-border-radius: 999px;

  /* Search-specific z-index */
  --z-search: 1000;
  --z-search-results: 1001;
}

/* ========================================
   HEADER SEARCH CONTAINER - HIGH PRIORITY
   ======================================== */
.main-header .header-search {
  flex: 1 !important;
  max-width: 500px !important;
  margin: 0 1.5rem !important;
  display: flex !important;
  justify-content: center !important;
}

.main-header .search-container {
  position: relative !important;
  width: 100% !important;
  max-width: 500px !important;
  margin: 0 auto !important;
}

.main-header .input-group.input-group-rounded {
  width: 100% !important;
}

.main-header .input-group.input-group-rounded .form-control {
  border-radius: 999px !important;
  width: 100% !important;
}

/* ========================================
   SEARCH INPUT STYLING - HIGH PRIORITY
   ======================================== */
.search-input,
.main-header .search-input {
  width: 100% !important;
  height: var(--search-height) !important;
  padding: var(--search-padding) !important;
  border: 2px solid var(--search-border) !important;
  border-radius: var(--search-border-radius) !important;
  font-size: var(--search-font-size) !important;
  background: var(--search-bg) !important;
  transition: all 0.2s ease !important;
  box-sizing: border-box !important;
}

.search-input:focus,
.main-header .search-input:focus {
  outline: none !important;
  border-color: var(--search-border-focus) !important;
  box-shadow: var(--search-shadow-focus) !important;
}

.search-input::placeholder,
.main-header .search-input::placeholder {
  color: #6c757d !important;
  font-size: var(--search-font-size) !important;
}

/* ========================================
   SEARCH RESULTS DROPDOWN - HIGH PRIORITY
   ======================================== */
.search-results-dropdown,
.main-header .search-results-dropdown {
  position: absolute !important;
  top: 100% !important;
  left: 0 !important;
  right: 0 !important;
  background: var(--search-bg) !important;
  border: 1px solid var(--search-border) !important;
  border-radius: 10px !important;
  box-shadow: var(--search-shadow) !important;
  z-index: var(--z-search-results) !important;
  max-height: 400px !important;
  overflow-y: auto !important;
  margin-top: 0.25rem !important;
}

/* ========================================
   SEARCH RESULT ITEMS - HIGH PRIORITY
   ======================================== */
.search-result-item,
.main-header .search-result-item {
  padding: 1rem !important;
  border-bottom: 1px solid #f8f9fa !important;
  cursor: pointer !important;
  transition: background 0.2s ease !important;
  /* Ensure consistent sizing across all pages */
  min-height: 80px !important;
  max-height: 100px !important;
  height: auto !important;
  box-sizing: border-box !important;
}

.search-result-item:hover,
.main-header .search-result-item:hover {
  background: #f8f9fa !important;
}

.search-result-item:last-child,
.main-header .search-result-item:last-child {
  border-bottom: none !important;
}

/* ========================================
   SEARCH RESULT LAYOUT - HIGH PRIORITY
   ======================================== */
.search-result-item .d-flex.align-items-center.p-2,
.main-header .search-result-item .d-flex.align-items-center.p-2 {
  display: flex !important;
  align-items: center !important;
  padding: 8px !important;
  width: 100% !important;
  height: auto !important;
  min-height: 64px !important;
  max-height: 80px !important;
  box-sizing: border-box !important;
}

/* ========================================
   SEARCH RESULT AVATAR - HIGH PRIORITY
   ======================================== */
.search-result-item .user-avatar-small,
.main-header .search-result-item .user-avatar-small {
  width: 40px !important;
  height: 40px !important;
  border-radius: 50% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: 1rem !important;
  font-weight: bold !important;
  color: white !important;
  flex-shrink: 0 !important;
  margin-right: 12px !important;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
  overflow: hidden !important;
}

.search-result-item .user-avatar-small img,
.main-header .search-result-item .user-avatar-small img {
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  border-radius: 50% !important;
}

.search-result-item .user-avatar-small .avatar-initials,
.main-header .search-result-item .user-avatar-small .avatar-initials {
  width: 100% !important;
  height: 100% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: 1rem !important;
  font-weight: bold !important;
  color: white !important;
}

/* ========================================
   SEARCH RESULT CONTENT - HIGH PRIORITY
   ======================================== */
.search-result-item .flex-grow-1,
.main-header .search-result-item .flex-grow-1 {
  flex: 1 !important;
  min-width: 0 !important;
  margin-right: 12px !important;
}

.search-result-item .fw-bold,
.main-header .search-result-item .fw-bold {
  font-weight: 600 !important;
  font-size: 1rem !important;
  color: #212529 !important;
  margin: 0 0 4px 0 !important;
  line-height: 1.2 !important;
}

.search-result-item .fw-bold a,
.main-header .search-result-item .fw-bold a {
  color: #212529 !important;
  text-decoration: none !important;
}

.search-result-item .fw-bold a:hover,
.main-header .search-result-item .fw-bold a:hover {
  color: #667eea !important;
}

.search-result-item .text-muted.small,
.main-header .search-result-item .text-muted.small {
  font-size: 0.875rem !important;
  color: #6c757d !important;
  margin: 0 !important;
  line-height: 1.3 !important;
}

/* ========================================
   SEARCH RESULT BUTTONS - HIGH PRIORITY
   ======================================== */
.search-result-item .btn,
.main-header .search-result-item .btn {
  padding: 6px 12px !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  border-radius: 6px !important;
  border: none !important;
  cursor: pointer !important;
  text-align: center !important;
  text-decoration: none !important;
  flex-shrink: 0 !important;
  min-width: 80px !important;
  height: 32px !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 4px !important;
  transition: all 0.2s ease !important;
}

.search-result-item .btn-primary,
.main-header .search-result-item .btn-primary {
  background-color: #311555 !important;
  color: white !important;
}

.search-result-item .btn-primary:hover,
.main-header .search-result-item .btn-primary:hover {
  background-color: #4a1f7a !important;
  transform: translateY(-1px) !important;
}

.search-result-item .btn-success,
.main-header .search-result-item .btn-success {
  background-color: #28a745 !important;
  color: white !important;
}

.search-result-item .btn-success:hover,
.main-header .search-result-item .btn-success:hover {
  background-color: #218838 !important;
  transform: translateY(-1px) !important;
}

.search-result-item .btn-secondary,
.main-header .search-result-item .btn-secondary {
  background-color: #6c757d !important;
  color: white !important;
}

.search-result-item .btn-secondary:hover,
.main-header .search-result-item .btn-secondary:hover {
  background-color: #5a6268 !important;
  transform: translateY(-1px) !important;
}

.search-result-item .btn:hover,
.main-header .search-result-item .btn:hover {
  opacity: 0.9 !important;
  transform: translateY(-1px) !important;
}

/* ========================================
   SEARCH RESULT BUTTON GROUPS - HIGH PRIORITY
   ======================================== */
.search-result-item .btn-group {
  display: flex !important;
  gap: 4px !important;
}

.search-result-item .btn-group .btn {
  min-width: 60px !important;
}

/* ========================================
   SEARCH RESULT LOADING STATES - HIGH PRIORITY
   ======================================== */
.search-result-item .spinner-border {
  width: 1rem !important;
  height: 1rem !important;
  border-width: 0.125em !important;
}

/* ========================================
   SEARCH RESULT EMPTY STATE - HIGH PRIORITY
   ======================================== */
.search-results-dropdown .text-center.text-muted.p-3 {
  padding: 2rem 1rem !important;
  color: #6c757d !important;
}

.search-results-dropdown .text-center.text-muted.p-3 i {
  font-size: 1.5rem !important;
  margin-bottom: 0.5rem !important;
  opacity: 0.8 !important;
  color: #495057 !important;
}

/* ========================================
   SEARCH RESULT SCROLLBAR - HIGH PRIORITY
   ======================================== */
.search-results-dropdown::-webkit-scrollbar {
  width: 8px !important;
}

.search-results-dropdown::-webkit-scrollbar-track {
  background: #f8f9fa !important;
  border-radius: 4px !important;
}

.search-results-dropdown::-webkit-scrollbar-thumb {
  background: #dee2e6 !important;
  border-radius: 4px !important;
}

.search-results-dropdown::-webkit-scrollbar-thumb:hover {
  background: #adb5bd !important;
}

/* ========================================
   OVERRIDE CONSOLIDATED.CSS CONFLICTS - ULTRA HIGH PRIORITY
   ======================================== */
/* Override any conflicting styles from consolidated.css */
.main-header
  .search-container
  .search-results-dropdown
  .search-result-item
  .user-avatar-small {
  width: 40px !important;
  height: 40px !important;
  border-radius: 50% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: 1rem !important;
  font-weight: bold !important;
  color: white !important;
  flex-shrink: 0 !important;
  margin-right: 12px !important;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
  overflow: hidden !important;
  /* Override consolidated.css styles */
  background-color: transparent !important;
  text-transform: none !important;
}

.main-header
  .search-container
  .search-results-dropdown
  .search-result-item
  .btn {
  padding: 6px 12px !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  border-radius: 6px !important;
  border: none !important;
  cursor: pointer !important;
  text-align: center !important;
  text-decoration: none !important;
  flex-shrink: 0 !important;
  min-width: 80px !important;
  height: 32px !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 4px !important;
  transition: all 0.2s ease !important;
  /* Override consolidated.css styles */
  background-color: #311555 !important;
  color: white !important;
}

.main-header
  .search-container
  .search-results-dropdown
  .search-result-item
  .btn-primary {
  background-color: #311555 !important;
  color: white !important;
}

.main-header
  .search-container
  .search-results-dropdown
  .search-result-item
  .btn-success {
  background-color: #28a745 !important;
  color: white !important;
}

.main-header
  .search-container
  .search-results-dropdown
  .search-result-item
  .fw-bold {
  font-weight: 600 !important;
  font-size: 1rem !important;
  color: #212529 !important;
  margin: 0 0 4px 0 !important;
  line-height: 1.2 !important;
  /* Override consolidated.css styles */
  text-transform: none !important;
}

.main-header
  .search-container
  .search-results-dropdown
  .search-result-item
  .text-muted.small {
  font-size: 0.875rem !important;
  color: #6c757d !important;
  margin: 0 !important;
  line-height: 1.3 !important;
  /* Override consolidated.css styles */
  text-transform: none !important;
}

/* ========================================
   OVERRIDE USERS PAGE SPECIFIC STYLES FOR SEARCH
   ======================================== */
/* Ensure search results are not affected by users page styles */
.users-page .search-results-dropdown {
  /* Reset only dropdown container styles */
  position: static;
  display: block;
}

.users-page .search-result-item {
  /* Reset only specific properties that might conflict */
  background: transparent;
  border: none;
  margin: 0;
  padding: 0;
}

/* Override users page container sizing for search */
.users-page .main-header .search-container {
  position: relative !important;
  width: 100% !important;
  max-width: 500px !important;
  margin: 0 auto !important;
  /* Prevent users page from affecting search container */
  min-width: auto !important;
  min-height: auto !important;
}

.users-page .main-header .header-search {
  flex: 1 !important;
  max-width: 500px !important;
  margin: 0 1.5rem !important;
  display: flex !important;
  justify-content: center !important;
  /* Prevent users page from affecting search section */
  min-width: auto !important;
  min-height: auto !important;
}

/* Re-apply search styles with higher specificity */
.users-page .main-header .search-results-dropdown {
  position: absolute !important;
  top: 100% !important;
  left: 0 !important;
  right: 0 !important;
  background: var(--search-bg) !important;
  border: 1px solid var(--search-border) !important;
  border-radius: 10px !important;
  box-shadow: var(--search-shadow) !important;
  z-index: var(--z-search-results) !important;
  max-height: 400px !important;
  overflow-y: auto !important;
  margin-top: 0.25rem !important;
  /* Ensure proper spacing for users page */
}

.users-page .main-header .search-result-item {
  padding: 0 !important;
  border-bottom: 1px solid #f8f9fa !important;
  cursor: pointer !important;
  transition: background 0.2s ease !important;
  background: white !important;
  /* Force consistent sizing on users page */
  min-height: 80px !important;
  max-height: 100px !important;
  height: auto !important;
  box-sizing: border-box !important;
  /* Override any users page sizing */
  width: 100% !important;
  margin: 0 !important;
  border-radius: 0 !important;
  /* Ensure proper spacing between items */
  margin-bottom: 0.5rem !important;
}

.users-page .main-header .search-result-item:hover {
  background: #f8f9fa !important;
}

/* Ensure proper spacing between search result items on users page */
.users-page .main-header .search-result-item:not(:last-child) {
  margin-bottom: 0.75rem !important;
}

.users-page .main-header .search-result-item .d-flex.align-items-center.p-2 {
  display: flex !important;
  align-items: center !important;
  padding: 16px !important;
  width: 100% !important;
  height: auto !important;
  min-height: 64px !important;
  max-height: 80px !important;
  box-sizing: border-box !important;
  /* Override any users page flex properties */
  flex-direction: row !important;
  justify-content: flex-start !important;
  /* Ensure proper spacing on users page */
  margin-bottom: 0 !important;
  /* Ensure the flex container properly contains the content */
  gap: 12px !important;
}

.users-page .main-header .search-result-item .user-avatar-small {
  width: 40px !important;
  height: 40px !important;
  border-radius: 50% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  font-size: 1rem !important;
  font-weight: bold !important;
  color: white !important;
  flex-shrink: 0 !important;
  margin-right: 12px !important;
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
  overflow: hidden !important;
}

.users-page .main-header .search-result-item .btn {
  padding: 6px 12px !important;
  font-size: 0.875rem !important;
  font-weight: 500 !important;
  border-radius: 6px !important;
  border: none !important;
  cursor: pointer !important;
  text-align: center !important;
  text-decoration: none !important;
  flex-shrink: 0 !important;
  min-width: 80px !important;
  height: 32px !important;
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  gap: 4px !important;
  transition: all 0.2s ease !important;
}

.users-page .main-header .search-result-item .btn-primary {
  background-color: #311555 !important;
  color: white !important;
}

.users-page .main-header .search-result-item .btn-success {
  background-color: #28a745 !important;
  color: white !important;
}

/* Ensure the flex-grow-1 container properly displays names and usernames */
.users-page .main-header .search-result-item .flex-grow-1 {
  flex: 1 !important;
  min-width: 0 !important;
  margin-right: 12px !important;
  /* Ensure proper display of content */
  display: flex !important;
  flex-direction: column !important;
  justify-content: center !important;
}

.users-page .main-header .search-result-item .fw-bold {
  font-weight: 600 !important;
  font-size: 1rem !important;
  color: #212529 !important;
  margin: 0 0 4px 0 !important;
  line-height: 1.2 !important;
  /* Ensure proper display in flex container */
  display: block !important;
}

.users-page .main-header .search-result-item .text-muted.small {
  font-size: 0.875rem !important;
  color: #6c757d !important;
  margin: 0 !important;
  line-height: 1.3 !important;
  /* Ensure proper display in flex container */
  display: block !important;
}

/* ========================================
   BOOTSTRAP CLASS OVERRIDES FOR SEARCH RESULTS
   ======================================== */
/* Ensure Bootstrap classes work correctly in search results */
.main-header .search-results-dropdown .search-result-item .bg-primary {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
}

.main-header .search-results-dropdown .search-result-item .text-white {
  color: white !important;
}

.main-header .search-results-dropdown .search-result-item .rounded-circle {
  border-radius: 50% !important;
}

.main-header .search-results-dropdown .search-result-item .d-flex {
  display: flex !important;
}

.main-header .search-results-dropdown .search-result-item .align-items-center {
  align-items: center !important;
}

.main-header
  .search-results-dropdown
  .search-result-item
  .justify-content-center {
  justify-content: center !important;
}

.main-header .search-results-dropdown .search-result-item .me-3 {
  margin-right: 1rem !important;
}

.main-header .search-results-dropdown .search-result-item .btn-group {
  display: flex !important;
  gap: 4px !important;
}

.main-header .search-results-dropdown .search-result-item .btn-group .btn {
  min-width: 60px !important;
}

/* ========================================
   INLINE STYLE OVERRIDES
   ======================================== */
/* Override any inline styles that might interfere */
.main-header .search-results-dropdown .search-result-item .profile-image {
  width: 100% !important;
  height: 100% !important;
  object-fit: cover !important;
  border-radius: 50% !important;
}

.main-header
  .search-results-dropdown
  .search-result-item
  .bg-primary.text-white.rounded-circle.d-flex.align-items-center.justify-content-center {
  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%) !important;
  color: white !important;
  border-radius: 50% !important;
  display: flex !important;
  align-items: center !important;
  justify-content: center !important;
  width: 100% !important;
  height: 100% !important;
  font-size: 0.9rem !important;
  font-weight: bold !important;
}

/* ========================================
   RESPONSIVE ADJUSTMENTS
   ======================================== */
@media (max-width: 768px) {
  .search-result-item .btn {
    min-width: 70px !important;
    font-size: 0.8rem !important;
    padding: 4px 8px !important;
  }

  .search-result-item .user-avatar-small {
    width: 36px !important;
    height: 36px !important;
    font-size: 0.9rem !important;
  }

  .search-result-item .fw-bold {
    font-size: 0.9rem !important;
  }

  .search-result-item .text-muted.small {
    font-size: 0.8rem !important;
  }
}
