/* Profile Mobile CSS - Dedicated mobile styles for profile page */

@media (max-width: 767px) {
  /* Profile page container */
  body.profile-page {
    overflow-x: hidden !important;
    width: 100% !important;
  }

  /* Force single column layout */
  body.profile-page .container-fluid {
    padding: 0 0.75rem !important;
    max-width: 100% !important;
    overflow-x: hidden !important;
  }

  body.profile-page .row {
    margin: 0 !important;
    max-width: 100% !important;
    flex-direction: column !important;
  }

  body.profile-page .col-12 {
    padding: 0 0.25rem !important;
    max-width: 100% !important;
    flex: 0 0 100% !important;
    width: 100% !important;
    margin-bottom: 1rem !important;
  }

  /* CRITICAL: Override the col-split flexbox layout for mobile */
  body.profile-page .col-split {
    display: flex !important;
    flex-direction: column !important;
    gap: 1rem !important;
    margin-bottom: 1rem !important;
    padding: 0 !important;
    width: 100% !important;
    max-width: 100% !important;
  }

  /* Force all cards to full width on mobile */
  body.profile-page .col-split .card {
    flex: none !important;
    width: 100% !important;
    max-width: 100% !important;
    border-radius: 12px !important;
    margin: 0 !important;
  }

  /* Remove any desktop-specific margins */
  body.profile-page .about-section-card {
    margin-right: 0 !important;
  }

  body.profile-page .friends-section-card {
    margin-left: 0 !important;
  }

  /* CRITICAL: Override the conflicting grid layout rules from consolidated.css */
  body.profile-page .col-lg-8,
  body.profile-page .col-lg-4 {
    flex: 0 0 100% !important;
    max-width: 100% !important;
    width: 100% !important;
    display: block !important;
    visibility: visible !important;
  }

  /* Override any Bootstrap grid classes that might be applied */
  body.profile-page [class*="col-"] {
    flex: 0 0 100% !important;
    width: 100% !important;
    max-width: 100% !important;
  }

  /* Profile header card */
  body.profile-page .profile-header-card {
    border-radius: 12px !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
    border: 1px solid #e9ecef !important;
    margin-bottom: 1rem !important;
  }

  body.profile-page .profile-header-card .card-body {
    padding: 2rem 1rem !important;
  }

  body.profile-page .profile-avatar {
    margin-bottom: 1.5rem !important;
  }

  body.profile-page .profile-picture-container {
    display: flex !important;
    justify-content: center !important;
    align-items: center !important;
  }

  body.profile-page .profile-name {
    font-size: 1.8rem !important;
    font-weight: 600 !important;
    color: #311555 !important;
    margin-bottom: 0.5rem !important;
  }

  body.profile-page .profile-username {
    font-size: 1.1rem !important;
    color: #6c757d !important;
    margin-bottom: 1.5rem !important;
  }

  /* Profile action buttons */
  body.profile-page .profile-header-card .btn {
    min-height: 44px !important;
    border-radius: 8px !important;
    font-size: 0.9rem !important;
    padding: 0.75rem 1.5rem !important;
    margin: 0.25rem !important;
  }

  body.profile-page .profile-header-card .btn-lg {
    font-size: 1rem !important;
    padding: 1rem 2rem !important;
  }

  body.profile-page .profile-header-card .btn-group {
    flex-direction: column !important;
    width: 100% !important;
  }

  body.profile-page .profile-header-card .btn-group .btn {
    width: 100% !important;
    margin: 0.25rem 0 !important;
    border-radius: 8px !important;
  }

  /* About section card */
  body.profile-page .card {
    border-radius: 12px !important;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1) !important;
    border: 1px solid #e9ecef !important;
    margin-bottom: 1rem !important;
  }

  body.profile-page .card-header {
    padding: 1rem !important;
    border-bottom: 1px solid #e9ecef !important;
    background-color: #f8f9fa !important;
    border-radius: 12px 12px 0 0 !important;
  }

  body.profile-page .card-header h5 {
    font-size: 1.2rem !important;
    font-weight: 600 !important;
    color: #311555 !important;
    margin: 0 !important;
  }

  body.profile-page .card-body {
    padding: 1rem !important;
    border-radius: 12px !important;
  }

  /* Bio section */
  body.profile-page .bio-text {
    font-size: 1rem !important;
    line-height: 1.6 !important;
    color: #495057 !important;
  }

  body.profile-page #bioTextarea {
    width: 100% !important;
    min-height: 100px !important;
    border-radius: 8px !important;
    border: 1px solid #ced4da !important;
    padding: 0.75rem !important;
    font-size: 1rem !important;
    resize: vertical !important;
  }

  body.profile-page #bioTextarea:focus {
    border-color: #311555 !important;
    box-shadow: 0 0 0 0.2rem rgba(49, 21, 85, 0.25) !important;
  }

  body.profile-page .form-text {
    font-size: 0.85rem !important;
    color: #6c757d !important;
    margin-top: 0.5rem !important;
  }

  /* Profile info items */
  body.profile-page .profile-info h6 {
    font-size: 1rem !important;
    font-weight: 600 !important;
    color: #495057 !important;
    margin-bottom: 1rem !important;
  }

  body.profile-page .info-item {
    padding: 0.75rem 0 !important;
    border-bottom: 1px solid #f1f3f4 !important;
  }

  body.profile-page .info-item:last-child {
    border-bottom: none !important;
  }

  body.profile-page .info-item i {
    width: 20px !important;
    text-align: center !important;
    color: #6c757d !important;
  }

  body.profile-page .info-item span {
    font-size: 0.9rem !important;
    color: #495057 !important;
  }

  /* Friends section */
  body.profile-page .friends-list {
    margin-top: 1rem !important;
  }

  body.profile-page .friend-item {
    border: 1px solid #e9ecef !important;
    border-radius: 8px !important;
    padding: 1rem !important;
    margin-bottom: 1rem !important;
    background-color: #f8f9fa !important;
    display: flex !important;
    flex-direction: column !important;
    align-items: center !important;
    gap: 1rem !important;
  }

  body.profile-page .friend-item:last-child {
    margin-bottom: 0 !important;
  }

  body.profile-page .friend-item .user-avatar-small {
    width: 40px !important;
    height: 40px !important;
    font-size: 0.9rem !important;
    flex-shrink: 0 !important;
  }

  body.profile-page .friend-item h6 {
    font-size: 0.95rem !important;
    font-weight: 600 !important;
    margin-bottom: 0.25rem !important;
  }

  body.profile-page .friend-item p {
    font-size: 0.85rem !important;
    color: #6c757d !important;
    margin: 0 !important;
  }

  body.profile-page .friend-item .btn {
    min-height: 36px !important;
    padding: 0.5rem 0.75rem !important;
    font-size: 0.8rem !important;
    border-radius: 6px !important;
  }

  /* Posts section */
  body.profile-page .posts-section {
    margin-top: 1rem !important;
  }

  body.profile-page .post-card {
    border: 1px solid #e9ecef !important;
    border-radius: 8px !important;
    margin-bottom: 1rem !important;
    background-color: white !important;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1) !important;
  }

  body.profile-page .post-card .post-header {
    padding: 1rem !important;
    border-bottom: 1px solid #f1f3f4 !important;
  }

  body.profile-page .post-card .post-content {
    padding: 1rem !important;
  }

  body.profile-page .post-card .post-actions {
    padding: 0.75rem 1rem !important;
    border-top: 1px solid #f1f3f4 !important;
  }

  body.profile-page .post-card .post-action {
    border-radius: 6px !important;
    min-height: 40px !important;
    font-size: 0.85rem !important;
  }

  /* Edit profile modal adjustments */
  body.profile-page .modal-dialog {
    margin: 1rem !important;
    max-width: calc(100% - 2rem) !important;
  }

  body.profile-page .modal-body {
    padding: 1rem !important;
  }

  body.profile-page .modal-body .form-control {
    min-height: 44px !important;
    border-radius: 8px !important;
    font-size: 1rem !important;
  }

  body.profile-page .modal-body .btn {
    min-height: 44px !important;
    border-radius: 8px !important;
    font-size: 0.9rem !important;
    padding: 0.75rem 1.5rem !important;
  }

  /* Ensure no horizontal scroll */
  body.profile-page * {
    box-sizing: border-box !important;
  }

  body.profile-page .container-fluid,
  body.profile-page .row,
  body.profile-page .col-12,
  body.profile-page .col-split {
    max-width: 100vw !important;
    overflow-x: hidden !important;
  }

  /* Force all flex containers to column direction */
  body.profile-page .d-flex {
    flex-direction: column !important;
  }

  body.profile-page .d-flex.row {
    flex-direction: row !important;
  }

  /* Profile header buttons container */
  body.profile-page .d-flex.gap-3 {
    flex-direction: column !important;
    gap: 0.75rem !important;
  }

  body.profile-page .d-flex.gap-3 .btn {
    width: 100% !important;
    margin: 0 !important;
  }

  /* Bio edit form buttons */
  body.profile-page .d-flex.gap-2 {
    flex-direction: column !important;
    gap: 0.5rem !important;
  }

  body.profile-page .d-flex.gap-2 .btn {
    width: 100% !important;
    margin: 0 !important;
  }

  /* Override desktop col-split layout completely */
  body.profile-page .col-split {
    display: flex !important;
    flex-direction: column !important;
    gap: 1rem !important;
    margin-bottom: 1rem !important;
    width: 100% !important;
    max-width: 100% !important;
  }

  body.profile-page .col-split .card {
    flex: none !important;
    border-radius: 12px !important;
    width: 100% !important;
    max-width: 100% !important;
    margin: 0 !important;
  }

  /* Ensure proper spacing between sections */
  body.profile-page .col-split .card + .card {
    margin-top: 1rem !important;
    border-radius: 12px !important;
  }
}
